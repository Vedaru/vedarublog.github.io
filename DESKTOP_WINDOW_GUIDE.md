# Desktop Metaphor çª—å£ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
pnpm dev
```

### æµ‹è¯•çª—å£åŠŸèƒ½

1. **æ‰“å¼€çª—å£**
   - ç‚¹å‡»å¯¼èˆªæ ä¸­çš„"å…³äº"æˆ–"å½’æ¡£"é“¾æ¥
   - çª—å£ä¼šä»¥å¼¹å‡ºå½¢å¼å‡ºç°ï¼Œè€Œä¸æ˜¯è·³è½¬é¡µé¢

2. **æ‹–åŠ¨çª—å£**
   - ç‚¹å‡»çª—å£æ ‡é¢˜æ å¹¶æ‹–åŠ¨
   - çª—å£ä¼šè·Ÿéšé¼ æ ‡ç§»åŠ¨

3. **è°ƒæ•´çª—å£å¤§å°**
   - å°†é¼ æ ‡ç§»åˆ°çª—å£è¾¹ç¼˜æˆ–è§’è½
   - å½“å…‰æ ‡å˜åŒ–æ—¶ï¼Œæ‹–åŠ¨å³å¯è°ƒæ•´å¤§å°
   - æ”¯æŒ 8 ä¸ªæ–¹å‘ï¼šä¸Šã€ä¸‹ã€å·¦ã€å³ã€å››ä¸ªè§’

4. **çª—å£æ§åˆ¶**
   - **æœ€å°åŒ–**ï¼šç‚¹å‡» `-` æŒ‰é’®ï¼Œçª—å£ä¼šæœ€å°åŒ–åˆ°åº•éƒ¨ä»»åŠ¡æ 
   - **æœ€å¤§åŒ–**ï¼šç‚¹å‡» `â–¡` æŒ‰é’®ï¼Œçª—å£ä¼šå¡«æ»¡æ•´ä¸ªå±å¹•
   - **å…³é—­**ï¼šç‚¹å‡» `Ã—` æŒ‰é’®ï¼Œçª—å£ä¼šå®Œå…¨å…³é—­

5. **ä»»åŠ¡æ **
   - åº•éƒ¨æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€çš„çª—å£
   - ç‚¹å‡»ä»»åŠ¡æ æŒ‰é’®å¯æ¢å¤æœ€å°åŒ–çš„çª—å£
   - å½“å‰æ¿€æ´»çš„çª—å£ä¼šé«˜äº®æ˜¾ç¤º

## ğŸ”§ æ·»åŠ æ–°çª—å£å†…å®¹

### 1. åˆ›å»ºçª—å£å†…å®¹ç»„ä»¶

åœ¨ `src/components/desktop/windows/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ Svelte ç»„ä»¶ï¼š

```svelte
<!-- BlogWindow.svelte -->
<script lang="ts">
	// ä½ çš„é€»è¾‘ä»£ç 
</script>

<div class="blog-window-content">
	<!-- çª—å£å†…å®¹ -->
	<h2>åšå®¢åˆ—è¡¨</h2>
	<p>è¿™é‡Œæ˜¾ç¤ºåšå®¢æ–‡ç« ...</p>
</div>

<style>
	.blog-window-content {
		padding: 20px;
	}
</style>
```

### 2. æ³¨å†Œåˆ° WindowManager

ç¼–è¾‘ `src/components/desktop/WindowManager.svelte`ï¼š

```typescript
// åœ¨é¡¶éƒ¨å¯¼å…¥æ–°ç»„ä»¶
import BlogWindow from './windows/BlogWindow.svelte';

// åœ¨æ¨¡æ¿ä¸­æ·»åŠ æ¡ä»¶æ¸²æŸ“
{#if window.component === 'blog'}
	<BlogWindow />
{:else if window.component === 'about'}
	<AboutWindow />
{/if}
```

### 3. é…ç½®å¯¼èˆªé“¾æ¥

ç¼–è¾‘ `src/components/widget/DropdownMenuDesktop.astro`ï¼Œåœ¨ `windowPages` æ•°ç»„ä¸­æ·»åŠ ï¼š

```javascript
const windowPages = ['about', 'archive', 'projects', 'blog'];
```

## ğŸ¨ è‡ªå®šä¹‰çª—å£æ ·å¼

### ä¿®æ”¹çª—å£å°ºå¯¸

åœ¨ `src/components/desktop/WindowManager.svelte` ä¸­è°ƒæ•´é»˜è®¤å€¼ï¼š

```javascript
const offset = windows.length * 30;
const x = 100 + offset;
const y = 80 + offset;

windows = [...windows, {
	// ...
	width: width || 900,  // ä¿®æ”¹é»˜è®¤å®½åº¦
	height: height || 700, // ä¿®æ”¹é»˜è®¤é«˜åº¦
}];
```

### ä¿®æ”¹çª—å£å¤–è§‚

ç¼–è¾‘ `src/components/desktop/DesktopWindow.svelte` çš„ `<style>` éƒ¨åˆ†ï¼š

```css
.desktop-window {
	/* ä¿®æ”¹è¾¹æ¡†ã€é˜´å½±ã€åœ†è§’ç­‰ */
	border-radius: 12px;
	box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
}

.window-titlebar {
	/* ä¿®æ”¹æ ‡é¢˜æ æ ·å¼ */
	height: 48px;
	background: linear-gradient(to bottom, #f8f8f8, #e8e8e8);
}
```

## ğŸ“ ç¼–ç¨‹æ–¹å¼æ‰“å¼€çª—å£

### åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨

```javascript
// å¯¼å…¥å·¥å…·å‡½æ•°
import { openDesktopWindow } from '@/utils/desktop-utils';

// æ‰“å¼€çª—å£
openDesktopWindow({
	id: 'my-custom-window',    // å”¯ä¸€æ ‡è¯†ç¬¦
	title: 'æˆ‘çš„çª—å£',         // æ ‡é¢˜æ æ–‡å­—
	component: 'about',         // å†…å®¹ç»„ä»¶ç±»å‹
	width: 800,                 // å¯é€‰ï¼šçª—å£å®½åº¦
	height: 600                 // å¯é€‰ï¼šçª—å£é«˜åº¦
});
```

### åœ¨ HTML ä¸­ä½¿ç”¨

```html
<button onclick="window.openDesktopWindow({
	id: 'settings',
	title: 'è®¾ç½®',
	component: 'settings',
	width: 600,
	height: 500
})">
	æ‰“å¼€è®¾ç½®
</button>
```

## ğŸ› å¸¸è§é—®é¢˜

### çª—å£æ— æ³•æ‹–åŠ¨
- æ£€æŸ¥æ˜¯å¦ç‚¹å‡»äº†æ ‡é¢˜æ åŒºåŸŸ
- ç¡®ä¿çª—å£æ²¡æœ‰è¢«æœ€å¤§åŒ–

### çª—å£å†…å®¹ä¸æ˜¾ç¤º
- æ£€æŸ¥ WindowManager ä¸­æ˜¯å¦æ­£ç¡®å¯¼å…¥äº†ç»„ä»¶
- ç¡®è®¤ component ç±»å‹åç§°åŒ¹é…

### ä»»åŠ¡æ ä¸æ˜¾ç¤º
- ç¡®ä¿è‡³å°‘æ‰“å¼€äº†ä¸€ä¸ªçª—å£
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

## ğŸš€ æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **é™åˆ¶çª—å£æ•°é‡**
   ```javascript
   if (windows.length >= 5) {
       alert('æœ€å¤šåªèƒ½æ‰“å¼€5ä¸ªçª—å£');
       return;
   }
   ```

2. **å»¶è¿ŸåŠ è½½å†…å®¹**
   - ä½¿ç”¨ Svelte çš„ `{#await}` è¯­æ³•
   - ä»…åœ¨çª—å£å¯è§æ—¶åŠ è½½æ•°æ®

3. **ä¼˜åŒ–æ‹–åŠ¨æ€§èƒ½**
   - å·²ä½¿ç”¨ `transform` è€Œé `top/left`
   - é™åˆ¶äº†çª—å£ç§»åŠ¨è¾¹ç•Œ

## ğŸ‰ ä¸‹ä¸€æ­¥

- æ·»åŠ æ›´å¤šçª—å£å†…å®¹ç»„ä»¶ï¼ˆBlogã€Projectsã€Contactï¼‰
- å®ç°çª—å£ä½ç½®æŒä¹…åŒ–ï¼ˆlocalStorageï¼‰
- æ·»åŠ çª—å£åŠ¨ç”»æ•ˆæœ
- æ”¯æŒå¤šæ˜¾ç¤ºå™¨
- æ·»åŠ çª—å£å¿«ç…§åŠŸèƒ½

---

**æç¤º**ï¼šæ‰€æœ‰ä¿®æ”¹éƒ½ä¼šçƒ­æ›´æ–°ï¼Œæ— éœ€é‡å¯å¼€å‘æœåŠ¡å™¨ï¼
